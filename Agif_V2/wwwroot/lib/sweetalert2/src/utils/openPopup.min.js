/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/sweetalert2@11.16.1/src/utils/openPopup.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import globalState from"../globalState.js";import{setAriaHidden}from"./aria.js";import{swalClasses}from"./classes.js";import*as dom from"./dom/index.js";import{iOSfix}from"./iosFix.js";import{replaceScrollbarWithPadding}from"./scrollbar.js";export const SHOW_CLASS_TIMEOUT=10;export const openPopup=e=>{const o=dom.getContainer(),t=dom.getPopup();"function"==typeof e.willOpen&&e.willOpen(t),globalState.eventEmitter.emit("willOpen",t);const i=window.getComputedStyle(document.body).overflowY;addClasses(o,t,e),setTimeout((()=>{setScrollingVisibility(o,t)}),10),dom.isModal()&&(fixScrollContainer(o,e.scrollbarPadding,i),setAriaHidden()),dom.isToast()||globalState.previousActiveElement||(globalState.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout((()=>e.didOpen(t))),globalState.eventEmitter.emit("didOpen",t),dom.removeClass(o,swalClasses["no-transition"])};const swalOpenAnimationFinished=e=>{const o=dom.getPopup();if(e.target!==o)return;const t=dom.getContainer();o.removeEventListener("animationend",swalOpenAnimationFinished),o.removeEventListener("transitionend",swalOpenAnimationFinished),t.style.overflowY="auto"},setScrollingVisibility=(e,o)=>{dom.hasCssAnimation(o)?(e.style.overflowY="hidden",o.addEventListener("animationend",swalOpenAnimationFinished),o.addEventListener("transitionend",swalOpenAnimationFinished)):e.style.overflowY="auto"},fixScrollContainer=(e,o,t)=>{iOSfix(),o&&"hidden"!==t&&replaceScrollbarWithPadding(t),setTimeout((()=>{e.scrollTop=0}))},addClasses=(e,o,t)=>{dom.addClass(e,t.showClass.backdrop),t.animation?(o.style.setProperty("opacity","0","important"),dom.show(o,"grid"),setTimeout((()=>{dom.addClass(o,t.showClass.popup),o.style.removeProperty("opacity")}),10)):dom.show(o,"grid"),dom.addClass([document.documentElement,document.body],swalClasses.shown),t.heightAuto&&t.backdrop&&!t.toast&&dom.addClass([document.documentElement,document.body],swalClasses["height-auto"])};
//# sourceMappingURL=/sm/89438303f0143fd6cbd441bd800347616281398137dfdb6913729a88014927b8.map
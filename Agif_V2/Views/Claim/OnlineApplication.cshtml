@model DataTransferObject.Request.DTOClaimApplication

@{
    ViewData["Title"] = "Application Form";
    Layout = "~/Views/Shared/_LayoutMain.cshtml";


    string Category = Model?.Category ?? TempData["CategoryNew"] as string ?? "1";
    string Purpose = Model?.Purpose ?? TempData["WithdrwalPurposeNew"] as string ?? "1";
    string PurposeTypeText = "";
    if (Purpose == "1")
    {
        PurposeTypeText = "Education of Ward";
    }
    else if (Purpose == "2")
    {
        PurposeTypeText = "Marriage of Ward";
    }
    else if (Purpose == "3")
    {
        PurposeTypeText = "Renovation-Repair of House";
    }
    else
        PurposeTypeText = "Special Waiver";

}


   
</style>

   
</style>

   
</style>

   
</style>

   
</style>

   
</style>

<link href="~/css/onlineapplication.css" rel="stylesheet" />

@Html.ValidationSummary(true, "", new { @class = "text-danger" })

<div class="container-fluid mt-2">

    <div class="pagetitletwo position-relative text-center mb-3">
        <h1>Application Form <span id="loanTypeSpan">@PurposeTypeText</span></h1>
        <button class="btn btn-secondary position-absolute end-0 top-50 translate-middle-y mt-minus-29" id="toggleAll">Expand All</button>
    </div>

    <div class="accordion" id="formAccordion">
        <form id="myMaturityForm" class="needs-validation mb-8" name="myForm" method="post" action="/Claim/SubmitApplication" enctype="multipart/form-data">
            <!-- Personal Info -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button fs-5 acc-btn h-50px"  type="button" data-bs-toggle="collapse" data-bs-target="#personalInfo" aria-expanded="true">
                        <span class="w-100 text-center text-decoration-underline"><strong>Personal Details </strong></span>
                    </button>
                </h2>
                <div id="personalInfo" class="accordion-collapse collapse show" data-bs-parent="#formAccordion">
                    <div class="accordion-body">
                        <div class="row g-3">


                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="input-group mb-2">
                                            <div class="col-md-2">
                                                <span class="input-group-text">👮</span>
                                            </div>
                                            <div class="col-md-10">
                                                <select class="select form-select" data-mdb-filter="true" id="armyPrefix" name="ClaimCommonData.ArmyPrefix" required data-army-prefix="@if (Model.ClaimCommonData != null)
                                                {
                                                    @Model.ClaimCommonData.ArmyPrefix
                                                    ;
                                                }">
                                                </select>
                                                <label class="form-label select-label ">Prefix</label>
                                                @Html.ValidationMessageFor(m => m.ClaimCommonData.ArmyPrefix, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-4">
                                        <div class="input-group mb-2">
                                            <span class="input-group-text">🔟</span>
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="text" id="armyNumber" name="ClaimCommonData.Number" value="@Model.ClaimCommonData?.Number" onchange="SetSuffixLetter(this)" class="form-control" onblur="getApplicantDetalis(this)" oninput="ValInDataNo(this)" maxlength="8" pattern="^\d{3,8}$" required />
                                                <label class="form-label" for="armyNumber">Army No.</label>
                                            </div>
                                        </div>
                                        @Html.ValidationMessageFor(m => m.ClaimCommonData.Number, "", new { @class = "text-danger" })
                                    </div>
                                    <div class="col-md-4">
                                        <div class="input-group mb-2">
                                            <span class="input-group-text">🧩</span>
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="text" id="txtSuffix" name="ClaimCommonData.Suffix" class="form-control readonly-blocked" value="@Model.ClaimCommonData?.Suffix" maxlength="1" readonly tabindex="-1" />
                                                <label class="form-label" for="txtSuffix">Suffix</label>
                                            </div>
                                        </div>
                                        @Html.ValidationMessageFor(m => m.ClaimCommonData.Suffix, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                            </div>


                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="input-group mb-2">
                                            <div class="col-md-2">
                                                <span class="input-group-text">👮</span>
                                            </div>
                                            <div class="col-md-10">
                                                <select class="select form-select" data-mdb-filter="true" id="oldArmyPrefix" name="ClaimCommonData.OldArmyPrefix" data-oldarmy-prefix="@if (Model.ClaimCommonData != null)
                                                {
                                                    @Model.ClaimCommonData.OldArmyPrefix
                                                    ;
                                                }" required>
                                                </select>
                                                <label class="form-label select-label ">Prefix</label>
                                                @Html.ValidationMessageFor(m => m.ClaimCommonData.OldArmyPrefix, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="input-group mb-2">
                                            <span class="input-group-text">🔟</span>
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="text" id="oldArmyNo" name="ClaimCommonData.OldNumber" onchange="SetSuffixLetter(this)" class="form-control" value="@Model.ClaimCommonData?.OldNumber" maxlength="8" oninput="ValInDataNo(this)" pattern="^\d{3,8}$" />
                                                <label class="form-label" for="txtOldNumber">Old Army No.</label>
                                            </div>
                                        </div>
                                        @Html.ValidationMessageFor(m => m.ClaimCommonData.OldNumber, "", new { @class = "text-danger" })
                                    </div>
                                    <div class="col-md-4">
                                        <div class="input-group mb-2">
                                            <span class="input-group-text">🧩</span>
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="text" id="txtOldSuffix" name="ClaimCommonData.OldSuffix" class="form-control readonly-blocked" readonly tabindex="-1" value="@Model.ClaimCommonData?.OldSuffix" />
                                                <label class="form-label" for="txtOldSuffix">Suffix</label>
                                            </div>
                                        </div>
                                        @Html.ValidationMessageFor(m => m.ClaimCommonData.OldSuffix, "", new { @class = "text-danger" })

                                    </div>
                                </div>
                            </div>

                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <div class="col-md-2">
                                        <span class="input-group-text">👮</span>
                                    </div>
                                    <div class="col-md-10">
                                        <select class="select form-select" data-mdb-filter="true" id="ddlrank" name="ClaimCommonData.DdlRank" required data-rank-prefix="@if (Model.ClaimCommonData != null)
                                        {
                                            @Model.ClaimCommonData.DdlRank
                                            ;
                                        }">
                                        </select>
                                        <label class="form-label select-label ">Rank & Trade</label>
                                        @Html.ValidationMessageFor(m => m.ClaimCommonData.DdlRank, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">👮</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="txtApplicantName" name="ClaimCommonData.ApplicantName" class="form-control" value="@Model.ClaimCommonData?.ApplicantName" required oninput="ValInDataLetter(this)" />
                                        <label class="form-label" for="armyNumber">Applicant Name</label>
                                        <div class="invalid-feedback">
                                            Please choose a username.
                                        </div>
                                    </div>
                                </div>
                                @Html.ValidationMessageFor(m => m.ClaimCommonData.ApplicantName, "", new { @class = "text-danger" })
                            </div>

                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <div class="col-md-2">
                                        <span class="input-group-text">💼</span>
                                    </div>
                                    <div class="col-md-10">
                                        <select class="form-select select" data-mdb-filter="true" id="regtCorps" aria-label="Regt/Corps" name="ClaimCommonData.RegtCorps" onchange="fetchPCDA_PAO()" required data-regt-prefix="@if (Model.ClaimCommonData != null)
                                        {
                                            @Model.ClaimCommonData.RegtCorps
                                            ;
                                        }">
                                        </select>
                                        <label class="form-label select-label ">Regt/Corps</label>
                                        @Html.ValidationMessageFor(m => m.ClaimCommonData.RegtCorps, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">🎂</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" class="form-control monthPicker" id="dateOfBirth" aria-label="Date of Birth" name="ClaimCommonData.DateOfBirth" value="@Model.ClaimCommonData?.DateOfBirth?.ToString("yyyy-MM-dd")" required
                                               oninput="formatDate(this)" onchange="validateDateFormat(this)" placeholder="dd/mm/yyyy" autocomplete="off">
                                        <label class="form-label select-label ">DOB</label>
                                    </div>
                                </div>
                                @Html.ValidationMessageFor(m => m.ClaimCommonData.DateOfBirth, "", new { @class = "text-danger" })
                            </div>

                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">📅</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" class="form-control DocPicker" id="dateOfCommission" aria-label="Date of Commission" name="ClaimCommonData.DateOfCommission"
                                               required value="@Model.ClaimCommonData?.DateOfCommission?.ToString("yyyy-MM-dd")" oninput="formatDate(this)" onchange="validateDateFormat(this);calculateYearDifference();" placeholder="dd/mm/yyyy" autocomplete="off">
                                        <label class="form-label select-label ">DOC/DOE</label>
                                    </div>
                                </div>
                                @Html.ValidationMessageFor(m => m.ClaimCommonData.DateOfCommission, "", new { @class = "text-danger" })

                            </div>

                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <div class="col-md-2">
                                        <span class="input-group-text">👮</span>
                                    </div>
                                    <div class="col-md-10">
                                        @Html.DropDownListFor(m => m.ClaimCommonData.ExtnOfService,
                                                 new SelectList(new[] {
                                        new { Value = " ", Text = "Select one" },
                                        new { Value = "Yes", Text = "Yes" },
                                        new { Value = "No", Text = "No" }
                                        }, "Value", "Text"),
                                                 new
                                                 {
                                                     @class = "select form-select",
                                                     id = "ExtnOfService",
                                                     onchange = "extensionOfService()",
                                                     onblur = "ExtensionOfServiceAccess()"
                                                 })
                                        <label class="form-label select-label ">Extn of Service in Present Rank</label>
                                    </div>



                                </div>
                            </div>

                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">📅</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" class="form-control DopPicker" id="dateOfPromotion" aria-label="Date of Promotion" name="ClaimCommonData.DateOfPromotion" value="@Model.ClaimCommonData?.DateOfPromotion?.ToString("yyyy-MM-dd")" disabled
                                               oninput="formatDate(this)" onchange="updateRetDateOnPromotionDateSelection()" placeholder="dd/mm/yyyy" autocomplete="off">
                                        <label class="form-label select-label ">Date of Prom(Sub Maj Only)</label>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">📅</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="date" class="form-control " id="dateOfRetirement" aria-label="Date of Retirement" value="@Model.ClaimCommonData?.DateOfRetirement?.ToString("yyyy-MM-dd")" name="ClaimCommonData.DateOfRetirement" tabindex="-1" readonly>
                                        <label class="form-label select-label ">Date of Retirement</label>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">🆔</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="aadharCardNo" name="ClaimCommonData.AadharCardNo" class="form-control" oninput="formatAadhar(this)" value="@Model.ClaimCommonData?.AadharCardNo" onkeyup="ValInAadhar(this)" maxlength="14" required />
                                        <label class="form-label select-label ">Aadhar Card No</label>
                                    </div>
                                </div>
                                @Html.ValidationMessageFor(m => m.ClaimCommonData.AadharCardNo, "", new { @class = "text-danger" })
                            </div>
                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">🆔</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="panCardNo" name="ClaimCommonData.PanCardNo" data-inputmask="'mask': 'AAAAA9999A', 'placeholder': 'AAAAA0000A'" class="form-control" value="@Model.ClaimCommonData?.PanCardNo" placeholder="AAAAA0000A" required />
                                        <label class="form-label select-label ">PAN No</label>
                                    </div>
                                </div>
                                @Html.ValidationMessageFor(m => m.ClaimCommonData.PanCardNo, "", new { @class = "text-danger" })

                            </div>

                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">📱</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="mobileNo" name="ClaimCommonData.MobileNo" class="form-control" maxlength="10" onblur="verifyMobileNo(this)" oninput="ValInDataNo(this)" value="@Model.ClaimCommonData?.MobileNo" required />
                                        <label class="form-label select-label ">Mobile No</label>
                                    </div>
                                </div>
                                @Html.ValidationMessageFor(m => m.ClaimCommonData.MobileNo, "", new { @class = "text-danger" })
                            </div>

                            <div class="col-md-3">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">📧</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="emailId" name="ClaimCommonData.Email" class="form-control" maxlength="64" value="@Model.ClaimCommonData?.Email" required />
                                        <label class="form-label select-label ">Email ID</label>
                                    </div>
                                </div>
                                @Html.ValidationMessageFor(m => m.ClaimCommonData.Email, "", new { @class = "text-danger" })
                            </div>
                            <div class="col-md-1">
                                <div class="input-group mb-2">
                                    <select id="emailDomain" name="ClaimCommonData.EmailDomain" class="form-select" required>
                                        <option value="gmail.com">gmail.com</option>
                                        <option value="yahoo.com">yahoo.com</option>
                                        <option value="outlook.com">outlook.com</option>
                                    </select>
                                </div>
                                @Html.ValidationMessageFor(m => m.ClaimCommonData.EmailDomain, "", new { @class = "text-danger" })
                            </div>

                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">📆</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="totalService" name="ClaimCommonData.TotalService" class="form-control readonly-blocked" readonly tabindex="-1" value="@Model.ClaimCommonData?.TotalService" required />
                                        <label class="form-label select-label ">Total Service(Years)</label>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">📆</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="residualService" name="ClaimCommonData.ResidualService" class="form-control readonly-blocked" readonly tabindex="-1" value="@Model.ClaimCommonData?.ResidualService" required />
                                        <label class="form-label select-label ">Residual Service(Years)</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--Regt/Unit Details-->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed fs-5 acc-btn h-50px"  type="button" data-bs-toggle="collapse" data-bs-target="#regt_Unit" aria-expanded="false">
                        <span class="w-100 text-center text-decoration-underline"><strong>Regt/Unit Details</strong></span>
                    </button>
                </h2>
                <div id="regt_Unit" class="accordion-collapse collapse" data-bs-parent="#formAccordion">
                    <div class="accordion-body">
                        <div class="row g-3">
                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">💼</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="pcda_pao" name="ClaimCommonData.pcda_pao" class="form-control readonly-blocked" required readonly tabindex="-1" />
                                        <label class="form-label select-label ">PCDA(O)/PAO(OR)</label>
                                        @Html.ValidationMessageFor(m => m.ClaimCommonData.pcda_pao, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">📒</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="pcda_AcctNo" name="ClaimCommonData.pcda_AcctNo" class="form-control" data-inputmask="'mask': '99/999/999999A', 'placeholder': '99/999/999999A'" placeholder="99/999/999999A" required readonly />
                                        <label class="form-label select-label ">PCDA(O) Acct No</label>
                                        @Html.ValidationMessageFor(m => m.ClaimCommonData.pcda_AcctNo, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <div class="col-md-2">
                                        <span class="input-group-text">🪖</span>
                                    </div>
                                    <div class="form-outline" data-mdb-input-init">
                                        @Html.EditorFor(m => m.ClaimCommonData.ParentUnit, new { htmlAttributes = new { @class = "form-control form-control-Alphabets d-none", @required = "required", @onkeyup = "ValInData(this)", @dirName = "ParentUnit's name" } })
                                        @Html.ValidationMessageFor(m => m.ClaimCommonData.ParentUnit, "", new { @class = "text-danger" })
                                        <span id="ParentUnitId" class="d-none">@Model.ClaimCommonData?.ParentUnit</span>
                                        <input type="text" class="form-control" id="ParenttxtUnit" placeholder="Search Parent Unit..." />
                                        <label class="form-label" for="ParentUnit">Parent Unit</label>

                                    </div>
                                </div>
                            </div>

                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <div class="col-md-2">
                                        <span class="input-group-text">🪖</span>
                                    </div>
                                    <div class="form-outline" data-mdb-input-init>
                                        @Html.EditorFor(model => model.ClaimCommonData.PresentUnit, new { htmlAttributes = new { @class = "form-control form-control-Alphabets d-none", @required = "required", @onkeyup = "ValInData(this)", @dirName = "PresentUnit's name" } })
                                        @Html.ValidationMessageFor(model => model.ClaimCommonData.PresentUnit, "", new { @class = "text-danger" })
                                        <span id="PresentUnitId" class="d-none">@Model.ClaimCommonData?.PresentUnit</span>
                                        <input type="text" class="form-control" id="PresenttxtUnit" placeholder="Search Present Unit..." />
                                        <label class="form-label" for="PresentUnit">Present Unit</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">🧷</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="presentUnitPin" name="ClaimCommonData.PresentUnitPin" class="form-control" onchange="validateUnitPin(this)" onkeydown="ValInDataNo" onkeyup="ValInDataNo" required maxlength="6" value="@Model.ClaimCommonData?.PresentUnitPin" />
                                        <label class="form-label select-label ">Present Unit PIN</label>
                                    </div>
                                </div>
                                @Html.ValidationMessageFor(m => m.ClaimCommonData.PresentUnitPin, "", new { @class = "text-danger" })
                            </div>
                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <div class="col-md-2">
                                        <span class="input-group-text">📮</span>
                                    </div>
                                    <div class="col-md-10">
                                        <select class="form-select select" data-mdb-filter="true" id="armyPostOffice" name="ClaimCommonData.ArmyPostOffice" aria-label="armyPostOffice" required data-armypost-prefix="@if (Model.ClaimCommonData != null)
                                        {
                                            @Model.ClaimCommonData.ArmyPostOffice
                                            ;
                                        }">
                                        </select>
                                        <label class="form-label select-label ">Army Post Office</label>
                                        @Html.ValidationMessageFor(m => m.ClaimCommonData.ArmyPostOffice, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">🏠</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="civilPostalAddress" name="ClaimCommonData.CivilPostalAddress" class="form-control readonly-blocked" value="@Model.ClaimCommonData?.CivilPostalAddress" required readonly />
                                        <label class="form-label select-label ">Civ Postal Address</label>
                                        @Html.ValidationMessageFor(m => m.ClaimCommonData.CivilPostalAddress, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">🏢</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="nextFmnHQ" name="ClaimCommonData.NextFmnHQ" class="form-control" value="@Model.ClaimCommonData?.NextFmnHQ" required />
                                        <label class="form-label select-label ">Next Fmn HQ</label>
                                    </div>
                                </div>
                                @Html.ValidationMessageFor(m => m.ClaimCommonData.NextFmnHQ, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Address -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed fs-5 acc-btn h-50px"  type="button" data-bs-toggle="collapse" data-bs-target="#address" aria-expanded="false">

                        <span class="w-100 text-center text-decoration-underline"><strong>Home Address</strong></span>
                    </button>
                </h2>
                <div id="address" class="accordion-collapse collapse" data-bs-parent="#formAccordion">
                    <div class="accordion-body">
                        <div class="row g-3">
                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">🏠</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="Vill_Town" name="AddressDetails.Vill_Town" class="form-control form-control-Alphabets" maxlength="15" onkeyup="ValInDataAddress(this)" onkeydown="ValInDataAddress(this)" required value="@Model.AddressDetails?.Vill_Town" />
                                        <label class="form-label" for="Vill_Town">Village/Town</label>
                                    </div>

                                </div>
                                @Html.ValidationMessageFor(m => m.AddressDetails.Vill_Town, "", new { @class = "text-danger" })

                            </div>
                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">🏠</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="postOffice" name="AddressDetails.PostOffice" class="form-control form-control-Alphabets" maxlength="15" onkeyup="ValInDataAddress(this)" onkeydown="ValInDataAddress(this)" required value="@Model.AddressDetails?.PostOffice" />
                                        <label class="form-label" for="postOffice">Post Office</label>
                                    </div>
                                </div>
                                @Html.ValidationMessageFor(m => m.AddressDetails.PostOffice, "", new { @class = "text-danger" })
                            </div>
                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">🗺️</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="distt" name="AddressDetails.Distt" class="form-control form-control-Alphabets" maxlength="15" onkeyup="ValInDataAddress(this)" onkeydown="ValInDataAddress(this)" required value="@Model.AddressDetails?.Distt" />
                                        <label class="form-label" for="distt">Enter Dist</label>
                                    </div>
                                </div>
                                @Html.ValidationMessageFor(m => m.AddressDetails.Distt, "", new { @class = "text-danger" })
                            </div>
                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">🗺️</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="state" name="AddressDetails.State" class="form-control form-control-Alphabets" maxlength="15" onkeyup="ValInDataAddress(this)" onkeydown="ValInDataAddress(this)" required value="@Model.AddressDetails?.State" />
                                        <label class="form-label" for="state">Enter State</label>
                                    </div>
                                </div>
                                @Html.ValidationMessageFor(m => m.AddressDetails.State, "", new { @class = "text-danger" })
                            </div>
                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">🧷</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="Code" name="AddressDetails.Code" class="form-control isNumerictxt" onchange="validateUnitPin(this)" onkeydown="ValInDataNo" onkeyup="ValInDataNo" required maxlength="6" value="@Model.AddressDetails?.Code" />
                                        <label class="form-label" for="Code">Pin Code</label>
                                    </div>
                                </div>
                                @Html.ValidationMessageFor(m => m.AddressDetails.Code, "", new { @class = "text-danger" })
                            </div>


                        </div>
                    </div>
                </div>
            </div>

            <!-- Salary Account Details -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed fs-5 acc-btn h-50px"  type="button" data-bs-toggle="collapse" data-bs-target="#salaryAcctDetails" aria-expanded="false">

                        <span class="w-100 text-center text-decoration-underline"><strong>Salary Account Details</strong></span>
                    </button>
                </h2>
                <div id="salaryAcctDetails" class="accordion-collapse collapse" data-bs-parent="#formAccordion">
                    <div class="accordion-body">
                        <div class="row g-3">
                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">🏧</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="password" id="salaryAcctNo" name="AccountDetails.SalaryAcctNo" class="form-control" maxlength="17" onkeydown="ValInDataNo(this)" onkeyup="ValInDataNo(this)" onchange="validateAccountNo(this)" value="@Model.AccountDetails?.SalaryAcctNo" required />
                                        <label class="form-label select-label ">Applicant's Salary Acct No</label>
                                    </div>
                                </div>
                                @Html.ValidationMessageFor(m => m.AccountDetails.SalaryAcctNo, "", new { @class = "text-danger" })

                            </div>
                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">🏧</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="confirmSalaryAcctNo" name="AccountDetails.ConfirmSalaryAcctNo" class="form-control" onchange="confirmAccountNo(this)" maxlength="17" onkeydown="ValInDataNo(this)" onkeyup="ValInDataNo(this)" value="@Model.AccountDetails?.ConfirmSalaryAcctNo" required />
                                        <label class="form-label select-label ">Re-Enter Salary Acct No</label>
                                    </div>
                                </div>
                                @Html.ValidationMessageFor(m => m.AccountDetails.ConfirmSalaryAcctNo, "", new { @class = "text-danger" })
                            </div>
                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">🏦</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="ifsCode" name="AccountDetails.IfsCode" class="form-control" value="@Model.AccountDetails?.IfsCode" required maxlength="12" />
                                        <label class="form-label select-label ">IFSC of Bank</label>
                                    </div>
                                </div>
                                @Html.ValidationMessageFor(m => m.AccountDetails.IfsCode, "", new { @class = "text-danger" })
                            </div>
                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">🏦</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="nameOfBank" name="AccountDetails.NameOfBank" class="form-control" onkeydown="ValInData(this)" onkeyup="ValInData(this)" maxlength="50" value="@Model.AccountDetails?.NameOfBank" required />
                                        <label class="form-label select-label ">Name of Bank</label>
                                    </div>
                                </div>
                                @Html.ValidationMessageFor(m => m.AccountDetails.NameOfBank, "", new { @class = "text-danger" })
                            </div>
                            <div class="col-md-2">
                                <div class="input-group mb-2">
                                    <span class="input-group-text">🏦</span>
                                    <div class="form-outline" data-mdb-input-init>
                                        <input type="text" id="nameOfBankBranch" name="AccountDetails.NameOfBankBranch" class="form-control" onkeydown="ValInData(this)" onkeyup="ValInData(this)" maxlength="50" value="@Model.AccountDetails?.NameOfBankBranch" required />
                                        <label class="form-label select-label ">Name of Bank Branch</label>
                                    </div>
                                </div>
                                @Html.ValidationMessageFor(m => m.AccountDetails.NameOfBankBranch, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--Exisitng Agif Loan-->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed fs-5 acc-btn h-50px"  type="button" data-bs-toggle="collapse" data-bs-target="#ExistingAGIFLoans" aria-expanded="false">

                        <span class="w-100 text-center text-decoration-underline"><strong>Details of Existing AGIF Loans</strong></span>
                    </button>
                </h2>

                <div id="ExistingAGIFLoans" class="accordion-collapse collapse" data-bs-parent="#formAccordion">
                    <div class="accordion-body">
                        <div class="row g-3">
                            <div class="col-12">
                                <div class="add-loan-section" id="addLoanSection">
                                    <h5 class="mb-3">Do you have an existing AGIF Loan?</h5>
                                    <button type="button" class="btn btn-primary" id="showLoanFormButton">
                                        <i class="fas fa-plus"></i> Add Loan
                                    </button>
                                </div>

                                <div id="loanFormContainer" class="d-none">
                                    <div class="loan-entry">
                                        <button type="button" class="btn btn-sm btn-outline-danger remove-btn" onclick="removeLoanForm()">
                                            <i class="fas fa-times"></i>Remove
                                        </button>

                                        <div class="row g-3">
                                            <div class="col-md-6">
                                                <label for="loanType" class="form-label"><strong>Choose your loan type</strong></label>
                                                <select class="form-select" id="loanType">
                                                    <option value="">Select Loan Type</option>
                                                    <option value="hba">HBA (House Building Advance)</option>
                                                    <option value="hra">HRA (House Repair Advance)</option>
                                                    <option value="ca">CA (Convenyance Advance)</option>
                                                    <option value="pca">PCA (Personal Computer Advance)</option>
                                                </select>
                                            </div>
                                        </div>

                                        <!-- HBA Fields -->
                                        <div id="hbaFields" class="loan-type-section">
                                            <div class="row g-3 mt-3">

                                                <div class="col-md-3">
                                                    <div class="input-group mb-2">
                                                        <span class="input-group-text">🎂</span>
                                                        <div class="form-outline" data-mdb-input-init>
                                                            <input type="date" class="form-control" id="hbaDate" aria-label="Date of Birth" name="ClaimCommonData.House_Building_Date_of_Loan_taken" value="@Model.ClaimCommonData?.House_Building_Date_of_Loan_taken?.ToString("yyyy-MM-dd")" >
                                                            <label class="form-label select-label ">House Building Date of Loan taken</label>
                                                        </div>

                                                    </div>
                                                    @Html.ValidationMessageFor(m => m.ClaimCommonData.House_Building_Date_of_Loan_taken, "", new { @class = "text-danger" })
                                                </div>

                                                <div class="col-md-3">
                                                    <div class="input-group mb-2">
                                                        <span class="input-group-text">🔟</span>
                                                        <div class="form-outline" data-mdb-input-init>
                                                            <input type="text" id="hbaDuration" name="ClaimCommonData.House_Building_Duration_of_Loan" value="@Model.ClaimCommonData?.House_Building_Duration_of_Loan" class="form-control" oninput="ValInDataNo(this)" maxlength="8" />
                                                            <label class="form-label" for="hbaDuration">House Building Duration of Loan</label>
                                                        </div>

                                                    </div>
                                                    @Html.ValidationMessageFor(m => m.ClaimCommonData.House_Building_Duration_of_Loan, "", new { @class = "text-danger" })
                                                </div>


                                                <div class="col-md-3">
                                                    <div class="input-group mb-2">
                                                        <span class="input-group-text">🔟</span>
                                                        <div class="form-outline" data-mdb-input-init>
                                                            <input type="text" id="hbaAmount" name="ClaimCommonData.House_Building_Amount_Taken" value="@Model.ClaimCommonData?.House_Building_Amount_Taken" class="form-control" oninput="ValInDataNo(this)" maxlength="8" pattern="^\d{3,8}$" />
                                                            <label class="form-label" for="hbaAmount">House Building Amount Taken</label>
                                                        </div>

                                                    </div>
                                                    @Html.ValidationMessageFor(m => m.ClaimCommonData.House_Building_Amount_Taken, "", new { @class = "text-danger" })
                                                </div>

                                            </div>
                                        </div>

                                        <!-- HRA Fields -->
                                        <div id="hraFields" class="loan-type-section">
                                            <div class="row g-3 mt-3">
                                                <div class="col-md-3">
                                                    <div class="input-group mb-2">
                                                        <span class="input-group-text">🎂</span>
                                                        <div class="form-outline" data-mdb-input-init>
                                                            <input type="date" class="form-control" id="hraDate" aria-label="Date of Birth" name="ClaimCommonData.House_Repair_Advance_Date_of_Loan_taken" value="@Model.ClaimCommonData?.House_Repair_Advance_Date_of_Loan_taken?.ToString("yyyy-MM-dd")">
                                                            <label class="form-label select-label" for="hraDate">House Repair Date of Loan taken</label>
                                                        </div>

                                                    </div>
                                                    @Html.ValidationMessageFor(m => m.ClaimCommonData.House_Repair_Advance_Date_of_Loan_taken, "", new { @class = "text-danger" })
                                                </div>

                                                <div class="col-md-3">
                                                    <div class="input-group mb-2">
                                                        <span class="input-group-text">🔟</span>
                                                        <div class="form-outline" data-mdb-input-init>
                                                            <input type="text" id="hraDuration" name="ClaimCommonData.House_Repair_Advance_Duration_of_Loan" value="@Model.ClaimCommonData?.House_Repair_Advance_Duration_of_Loan" class="form-control" oninput="ValInDataNo(this)" maxlength="8" />
                                                            <label class="form-label" for="hraDuration">House Repair Duration of Loan</label>
                                                        </div>

                                                    </div>
                                                    @Html.ValidationMessageFor(m => m.ClaimCommonData.House_Repair_Advance_Duration_of_Loan, "", new { @class = "text-danger" })
                                                </div>


                                                <div class="col-md-3">
                                                    <div class="input-group mb-2">
                                                        <span class="input-group-text">🔟</span>
                                                        <div class="form-outline" data-mdb-input-init>
                                                            <input type="text" id="hraAmount" name="ClaimCommonData.House_Repair_Advance_Amount_Taken" value="@Model.ClaimCommonData?.House_Repair_Advance_Amount_Taken" class="form-control" oninput="ValInDataNo(this)" maxlength="8" />
                                                            <label class="form-label" for="hraAmount">House Repair Amount Taken</label>
                                                        </div>

                                                    </div>
                                                    @Html.ValidationMessageFor(m => m.ClaimCommonData.House_Repair_Advance_Amount_Taken, "", new { @class = "text-danger" })
                                                </div>
                                            </div>
                                        </div>

                                        <!-- CA Fields -->
                                        <div id="caFields" class="loan-type-section">
                                            <div class="row g-3 mt-3">
                                                <div class="col-md-3">
                                                    <div class="input-group mb-2">
                                                        <span class="input-group-text">🎂</span>
                                                        <div class="form-outline" data-mdb-input-init>
                                                            <input type="date" class="form-control" id="caDate" aria-label="Date of Birth" name="ClaimCommonData.Conveyance_Date_of_Loan_taken" value="@Model.ClaimCommonData?.Conveyance_Date_of_Loan_taken?.ToString("yyyy-MM-dd")" >
                                                            <label class="form-label select-label" for="caDate">Conveyance Date of Loan taken</label>
                                                        </div>

                                                    </div>
                                                    @Html.ValidationMessageFor(m => m.ClaimCommonData.Conveyance_Date_of_Loan_taken, "", new { @class = "text-danger" })
                                                </div>

                                                <div class="col-md-3">
                                                    <div class="input-group mb-2">
                                                        <span class="input-group-text">🔟</span>
                                                        <div class="form-outline" data-mdb-input-init>
                                                            <input type="text" id="caDuration" name="ClaimCommonData.Conveyance_Duration_of_Loan" value="@Model.ClaimCommonData?.Conveyance_Duration_of_Loan" class="form-control" oninput="ValInDataNo(this)" maxlength="8" />
                                                            <label class="form-label" for="caDuration">Conveyance Duration of Loan</label>
                                                        </div>

                                                    </div>
                                                    @Html.ValidationMessageFor(m => m.ClaimCommonData.Conveyance_Duration_of_Loan, "", new { @class = "text-danger" })
                                                </div>


                                                <div class="col-md-3">
                                                    <div class="input-group mb-2">
                                                        <span class="input-group-text">🔟</span>
                                                        <div class="form-outline" data-mdb-input-init>
                                                            <input type="text" id="caAmount" name="ClaimCommonData.Conveyance_Amount_Taken" value="@Model.ClaimCommonData?.Conveyance_Amount_Taken" class="form-control" oninput="ValInDataNo(this)" maxlength="8" pattern="^\d{3,8}$" />
                                                            <label class="form-label" for="caAmount">Conveyance Amount Taken</label>
                                                        </div>

                                                    </div>
                                                    @Html.ValidationMessageFor(m => m.ClaimCommonData.Conveyance_Amount_Taken, "", new { @class = "text-danger" })
                                                </div>
                                            </div>
                                        </div>

                                        <!-- PCA Fields -->
                                        <div id="pcaFields" class="loan-type-section">
                                            <div class="row g-3 mt-3">
                                                <div class="col-md-3">
                                                    <div class="input-group mb-2">
                                                        <span class="input-group-text">🎂</span>
                                                        <div class="form-outline" data-mdb-input-init>
                                                            <input type="date" class="form-control" id="pcaDate" aria-label="Date of Birth" name="ClaimCommonData.Computer_Date_of_Loan_taken" value="@Model.ClaimCommonData?.Computer_Date_of_Loan_taken?.ToString("yyyy-MM-dd")" >
                                                            <label class="form-label select-label" for="pcaDate">Computer Date of Loan taken</label>
                                                        </div>

                                                    </div>
                                                    @Html.ValidationMessageFor(m => m.ClaimCommonData.Computer_Date_of_Loan_taken, "", new { @class = "text-danger" })
                                                </div>

                                                <div class="col-md-3">
                                                    <div class="input-group mb-2">
                                                        <span class="input-group-text">🔟</span>
                                                        <div class="form-outline" data-mdb-input-init>
                                                            <input type="text" id="pcaDuration" name="ClaimCommonData.Computer_Duration_of_Loan" value="@Model.ClaimCommonData?.Computer_Duration_of_Loan" class="form-control" oninput="ValInDataNo(this)" maxlength="8" />
                                                            <label class="form-label" for="pcaDuration">Computer Duration of Loan</label>
                                                        </div>

                                                    </div>
                                                    @Html.ValidationMessageFor(m => m.ClaimCommonData.Computer_Duration_of_Loan, "", new { @class = "text-danger" })
                                                </div>


                                                <div class="col-md-3">
                                                    <div class="input-group mb-2">
                                                        <span class="input-group-text">🔟</span>
                                                        <div class="form-outline" data-mdb-input-init>
                                                            <input type="text" id="pcaAmount" name="ClaimCommonData.Computer_Amount_Taken" value="@Model.ClaimCommonData?.Computer_Amount_Taken" class="form-control" oninput="ValInDataNo(this)" maxlength="8" pattern="^\d{3,8}$" />
                                                            <label class="form-label" for="pcaAmount">Computer Amount Taken</label>
                                                        </div>

                                                    </div>
                                                    @Html.ValidationMessageFor(m => m.ClaimCommonData.Computer_Amount_Taken, "", new { @class = "text-danger" })
                                                </div>
                                            </div>
                                        </div>


                                        <button type="button" class="btn btn-success" id="addLoanButton">Add Loan</button>


                                        <div id="loanGridContainer" class="d-none">
                                            <h5 class="mt-3">Added Loans</h5>
                                            <table class="table d-none" id="loanGrid" >
                                                <thead>
                                                    <tr>
                                                        <th>Loan Type</th>
                                                        <th>Date of Loan</th>
                                                        <th>Duration</th>
                                                        <th>Amount</th>
                                                        <th>Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <!-- Added loans will be inserted here -->
                                                </tbody>
                                            </table>
                                        </div>


                                    </div>
                                </div>

                                <div class="row g-3">

                                    <div class="col-md-7">
                                        <div class="input-group mb-2">
                                            <span class="input-group-text">🔟</span>
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="text" id="AmountOfWithdrawalRequired" name="ClaimCommonData.AmountOfWithdrawalRequired" value="@Model.ClaimCommonData?.AmountOfWithdrawalRequired" class="form-control" oninput="formatIndianNumber(this)" required maxlength="10" />
                                                <label class="form-label" for="AmountOfWithdrawalRequired">Amount of withdrawal required (Withdrawal will be limited to actual expenditure or 90% of Maturity Benefit Whichever is less)</label>
                                            </div>

                                        </div>
                                        @Html.ValidationMessageFor(m => m.ClaimCommonData.AmountOfWithdrawalRequired, "", new { @class = "text-danger" })
                                    </div>

                                    <div class="col-md-5">
                                        <div class="input-group mb-2">
                                            <div class="col-md-1">
                                                <span class="input-group-text">📚</span>
                                            </div>
                                            <div class="col-md-11">

                                                @Html.DropDownListFor(m => m.ClaimCommonData.Noofwithdrawal,
                                                         new SelectList(new[] {
                                                new { Value = " ", Text = "Select one" },
                                                new { Value = "First", Text = "First" },
                                                new { Value = "Second", Text = "Second" }
                                                }, "Value", "Text"),
                                                         new
                                                         {
                                                             @class = "select form-select",
                                                             id = "Noofwithdrawal"

                                                         })
                                                <label class="form-label select-label ">No of withdrawal(Maximum two withdrawals permitted in entire service)</label>
                                                </div>
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>
                </div>
            </div>

            @{
                if (Purpose == "1")
                {
                    <!-- HBA Application -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button  fs-5 acc-btn h-50px" type="button" data-bs-toggle="collapse"  type="button" data-bs-target="#educationDetails" aria-expanded="false">
                                <span class="w-100 text-center text-decoration-underline"><strong>For Education only (Applicable for children studying in 12th Class and above)</strong></span>
                            </button>
                        </h2>
                        <div id="educationDetails" class="accordion-collapse collapse" data-bs-parent="#formAccordion">
                            <div class="accordion-body">
                                <div class="row g-3">
                                    <div class="col-md-2">
                                        <div class="input-group mb-2">
                                            <span class="input-group-text">👶</span>
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="text" id="txtChildName" name="EducationDetails.ChildName" class="form-control form-control-Alphabets" value="@Model.EducationDetails?.ChildName" required oninput="ValInDataLetter(this)" />
                                                <label class="form-label" for="txtChildName">Name of Child</label>
                                                <div class="invalid-feedback">
                                                    Please choose a username.
                                                </div>
                                            </div>
                                        </div>
                                        @Html.ValidationMessageFor(m => m.EducationDetails.ChildName, "", new { @class = "text-danger" })

                                    </div>
                                    <div class="col-md-2">
                                        <div class="input-group mb-2">
                                            <span class="input-group-text">🎂</span>
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="text" class="form-control monthPicker" id="EducationdateOfBirth" aria-label="Education date Of Birth" name="EducationDetails.DateOfBirth" value="@Model.EducationDetails?.DateOfBirth?.ToString("yyyy-MM-dd")" required"
                                                       oninput="formatDate(this)" onchange="validateDateFormat(this)" placeholder="dd/mm/yyyy" autocomplete="off">
                                                <label class="form-label select-label ">DOB</label>
                                            </div>

                                        </div>
                                        @Html.ValidationMessageFor(m => m.EducationDetails.DateOfBirth, "", new { @class = "text-danger" })
                                    </div>

                                    @if (Category == "1")
                                    {
                                        <div class="col-md-2">
                                            <div class="input-group mb-2">
                                                <span class="input-group-text">🔟</span>
                                                <div class="form-outline" data-mdb-input-init>
                                                    <input type="text" id="DOPartIINo" name="EducationDetails.DOPartIINo" value="@Model.EducationDetails?.DOPartIINo" class="form-control" required data-inputmask="'mask': '99/999/9999', 'placeholder': '00/012/2025'" placeholder="00/012/2025" />
                                                    <label class="form-label" for="DOPartIINo">DO Part-II No</label>
                                                </div>

                                            </div>
                                            @Html.ValidationMessageFor(m => m.EducationDetails.DOPartIINo, "", new { @class = "text-danger" })
                                        </div>

                                    }

                                    else
                                    {
                                        <div class="col-md-2">
                                            <div class="input-group mb-2">
                                                <span class="input-group-text">🔟</span>
                                                <div class="form-outline" data-mdb-input-init>
                                                    <input type="text" id="DOPartIINo" name="EducationDetails.DOPartIINo" value="@Model.EducationDetails?.DOPartIINo" class="form-control" required data-inputmask="'mask': '9/9999/9999/9999', 'placeholder': '0/0000/0000/2025'" placeholder="0/0000/0000/2025" />
                                                    <label class="form-label" for="DOPartIINo">DO Part-II No</label>
                                                </div>

                                            </div>
                                            @Html.ValidationMessageFor(m => m.EducationDetails.DOPartIINo, "", new { @class = "text-danger" })
                                        </div>

                                    }





                                    <div class="col-md-2">
                                        <div class="input-group mb-2">
                                            <span class="input-group-text">📅</span>
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="text" class="form-control monthPicker" id="DOPartIIDate" aria-label="DO Part II Date" name="EducationDetails.DoPartIIDate" value="@Model.EducationDetails?.DoPartIIDate?.ToString("yyyy-MM-dd")" required
                                                       oninput="formatDate(this)" onchange="validateDateFormat(this)" placeholder="dd/mm/yyyy" autocomplete="off">
                                                <label class="form-label select-label">DO Part-II Date</label>
                                            </div>
                                        </div>
                                        @Html.ValidationMessageFor(m => m.EducationDetails.DoPartIIDate, "", new { @class = "text-danger" })
                                    </div>

                                    <div class="col-md-4">
                                        <div class="mb-2">
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="file" id="Attach_Part_II_Order" name="EducationDetails.AttachPartIIOrder" class="form-control custom-file-text" required data-text="Attach Part-II Order" accept=".pdf" />
                                                <p class="file-error-message text-danger" ></p> <!-- Error message container -->
                                                @Html.ValidationMessageFor(m => m.EducationDetails.AttachPartIIOrder, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                    </div>



                                    <div class="col-md-4">
                                        <div class="input-group mb-2">
                                            <div class="col-md-1">
                                                <span class="input-group-text">📚</span>
                                            </div>
                                            <div class="col-md-11">
                                                
                                                @Html.DropDownListFor(m => m.EducationDetails.CourseForWithdrawal,
                                                     new SelectList(new[] {
                                        new { Value = " ", Text = "Select one" },
                                        new { Value = "12th", Text = "12th" },
                                        new { Value = "UG", Text = "UG" },
                                        new { Value = "PG", Text = "PG" }
                                        }, "Value", "Text"),
                                                     new
                                                     {
                                                         @class = "select form-select",
                                                         id = "CourseForWithdrawal"
                                                     })
                                                <label class="form-label select-label ">Name of Course/Class for withdrawal required</label>
                                                 </div>
                                        </div>
                                    </div>


                                    <div class="col-md-2">
                                        <div class="input-group mb-2">
                                            <span class="input-group-text">🎓</span>
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="text" id="NameOfcollege" name="EducationDetails.CollegeInstitution" value="@Model.EducationDetails?.CollegeInstitution" class="form-control form-control-Alphabets" oninput="ValInDataLetter(this)" required maxlength="30" />
                                                <label class="form-label" for="NameOfcollege">
                                                    Name of College/Institution where studying
                                                </label>
                                            </div>

                                        </div>
                                        @Html.ValidationMessageFor(m => m.EducationDetails.CollegeInstitution, "", new { @class = "text-danger" })
                                    </div>


                                    <div class="col-md-4">
                                        <div class="mb-2">
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="file" id="Attach_Bonafide_letter" name="EducationDetails.AttachBonafideletter" class="form-control custom-file-text" data-text="
        Attach Bonafide cert/admission letter" required accept=".pdf" />
                                                <p class="file-error-message text-danger" ></p>
                                                @Html.ValidationMessageFor(m => m.EducationDetails.AttachBonafideLetter, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                    </div>




                                    <div class="col-md-2">
                                        <div class="input-group mb-2">
                                            <span class="input-group-text">💸</span>
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="text" id="TotalExpenditure" name="EducationDetails.TotalExpenditure" value="@Model.EducationDetails?.TotalExpenditure" class="form-control" oninput="formatIndianNumber(this)" required maxlength="10" />
                                                <label class="form-label" for="TotalExpenditure">Total Expenditure</label>
                                            </div>

                                        </div>
                                        @Html.ValidationMessageFor(m => m.EducationDetails.TotalExpenditure, "", new { @class = "text-danger" })
                                    </div>


                                    <div class="col-md-4">
                                        <div class="mb-2">
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="file" id="TotalexpenditureFile" name="EducationDetails.TotalExpenditureFile" class="form-control custom-file-text" required data-text="Total expenditure (attach details)" accept=".pdf" />
                                                <p class="file-error-message text-danger" ></p>
                                                @Html.ValidationMessageFor(m => m.EducationDetails.TotalExpenditureFile, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                    </div>
                                    <input type="hidden" id="PresentlyStudyingIn" name="EducationDetails.PresentlyStudyingIn" value="0" />

                                </div>

                            </div>
                        </div>
                    </div>

                }
                else if (Purpose == "2")
                {
                    <!-- Marriage Purpose -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button  fs-5 acc-btn h-50px" type="button" data-bs-toggle="collapse"  type="button" data-bs-target="#educationDetails" aria-expanded="false">
                                <span class="w-100 text-center text-decoration-underline"><strong>For Marriage Purpose Only</strong></span>
                            </button>
                        </h2>
                        <div id="educationDetails" class="accordion-collapse collapse" data-bs-parent="#formAccordion">
                            <div class="accordion-body">
                                <div class="row g-3">
                                    <div class="col-md-2">
                                        <div class="input-group mb-2">
                                            <span class="input-group-text">👶</span>
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="text" id="txtNameOfChild" name="Marriageward.NameOfChild" class="form-control" value="@Model.Marriageward?.NameOfChild" required oninput="ValInDataLetter(this)" />
                                                <label class="form-label" for="txtNameOfChild">Name of Child</label>
                                                <div class="invalid-feedback">
                                                    Please choose a username.
                                                </div>
                                            </div>
                                        </div>
                                        @Html.ValidationMessageFor(m => m.Marriageward.NameOfChild, "", new { @class = "text-danger" })

                                    </div>
                                    <div class="col-md-2">
                                        <div class="input-group mb-2">
                                            <span class="input-group-text">🎂</span>
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="text" class="form-control monthPicker" id="MarriagewarddateOfBirth" aria-label="Date of Birth" name="Marriageward.DateOfBirth" value="@Model.Marriageward?.DateOfBirth?.ToString("yyyy-MM-dd")" required
                                                       oninput="formatDate(this)" onchange="validateDateFormat(this)" placeholder="dd/mm/yyyy" autocomplete="off">
                                                <label class="form-label select-label ">DOB</label>
                                            </div>

                                        </div>
                                        @Html.ValidationMessageFor(m => m.Marriageward.DateOfBirth, "", new { @class = "text-danger" })
                                    </div>


                                    @if (Category == "1")
                                    {
                                        <div class="col-md-2">
                                            <div class="input-group mb-2">
                                                <span class="input-group-text">🔟</span>
                                                <div class="form-outline" data-mdb-input-init>
                                                    <input type="text" id="MDOPartIINo" name="Marriageward.DOPartIINo" value="@Model.Marriageward?.DOPartIINo" class="form-control" oninput="ValInDataNo(this)" required data-inputmask="'mask': '99/999/9999', 'placeholder': '00/012/2025'" placeholder="00/012/2025" />
                                                    <label class="form-label" for="MDOPartIINo">DO Part-II No</label>
                                                </div>

                                            </div>
                                            @Html.ValidationMessageFor(m => m.Marriageward.DOPartIINo, "", new { @class = "text-danger" })
                                        </div>
                                    }

                                    else
                                    {
                                        <div class="col-md-2">
                                            <div class="input-group mb-2">
                                                <span class="input-group-text">🔟</span>
                                                <div class="form-outline" data-mdb-input-init>
                                                    <input type="text" id="MDOPartIINo" name="Marriageward.DOPartIINo" value="@Model.Marriageward?.DOPartIINo" class="form-control" oninput="ValInDataNo(this)" required data-inputmask="'mask': '9/9999/9999/9999', 'placeholder': '0/0000/0000/2025'" placeholder="0/0000/0000/2025" />
                                                    <label class="form-label" for="MDOPartIINo">DO Part-II No</label>
                                                </div>

                                            </div>
                                            @Html.ValidationMessageFor(m => m.Marriageward.DOPartIINo, "", new { @class = "text-danger" })
                                        </div>
                                    }


                                    <div class="col-md-2">
                                        <div class="input-group mb-2">
                                            <span class="input-group-text">📅</span>
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="text" class="form-control DOPartIIPicker" id="MarriagewardDOPartIIDate" aria-label="Date of Birth" name="Marriageward.DoPartIIDate" value="@Model.Marriageward?.DoPartIIDate?.ToString("yyyy-MM-dd")" required
                                                       oninput="formatDate(this)" placeholder="dd/mm/yyyy" autocomplete="off">
                                                <label class="form-label select-label ">DO Part-II Date</label>
                                            </div>
                                        </div>
                                        @Html.ValidationMessageFor(m => m.Marriageward.DoPartIIDate, "", new { @class = "text-danger" })
                                    </div>

                                    <div class="col-md-4">
                                        <div class="mb-2">
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="file" id="Attach_Part_II_Order" name="Marriageward.AttachPartIIOrder" class="form-control custom-file-text" required data-text="Attach Part-II Order" accept=".pdf" />
                                                <p class="file-error-message text-danger" ></p>

                                                @Html.ValidationMessageFor(m => m.Marriageward.AttachPartIIOrder, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="input-group mb-2">
                                            <span class="input-group-text">🔟</span>
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="text" id="AgeOfWard" name="Marriageward.AgeOfWard" value="@Model.Marriageward?.AgeOfWard" class="form-control" oninput="ValInDataNo(this)" required maxlength="2" />
                                                <label class="form-label" for="AgeOfWard">Age of Ward</label>
                                            </div>

                                        </div>
                                        @Html.ValidationMessageFor(m => m.Marriageward.AgeOfWard, "", new { @class = "text-danger" })
                                    </div>

                                    <div class="col-md-2">
                                        <div class="input-group mb-2">
                                            <span class="input-group-text">📅</span>
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="text" class="form-control DOPartIIPicker" id="DateOfMarriage" aria-label="Date of Birth" name="Marriageward.DateofMarriage" value="@Model.Marriageward?.DateofMarriage?.ToString("yyyy-MM-dd")" required
                                                       oninput="formatDate(this)" placeholder="dd/mm/yyyy" autocomplete="off">
                                                <label class="form-label select-label ">Date of Marriage</label>
                                            </div>
                                        </div>
                                        @Html.ValidationMessageFor(m => m.Marriageward.DateofMarriage, "", new { @class = "text-danger" })
                                    </div>






                                    <div class="col-md-4">
                                        <div class="mb-2">
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="file" id="Attach_invitation_card" name="Marriageward.Attachinvitationcard" class="form-control custom-file-text" required data-text="Attach invitation card" accept=".pdf" />
                                                <p class="file-error-message text-danger" ></p>
                                                @Html.ValidationMessageFor(m => m.Marriageward.AttachInvitationcard, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                    </div>


                                </div>

                            </div>
                        </div>
                    </div>
                }
                else if (Purpose == "3")
                {
                    <!-- PCA Application -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button  fs-5 acc-btn h-50px" type="button" data-bs-toggle="collapse"  type="button" data-bs-target="#educationDetails" aria-expanded="false">
                                <span class="w-100 text-center text-decoration-underline">
                                    <strong>
                                        For Renovation/Repair of House only(Applicable only in last two years of service).
                                    </strong>
                                </span>
                            </button>
                        </h2>
                        <div id="educationDetails" class="accordion-collapse collapse" data-bs-parent="#formAccordion">
                            <div class="accordion-body">
                                <div class="row g-3">
                                    <div class="col-md-3">
                                        <div class="input-group mb-2">
                                            <span class="input-group-text">🏠</span>
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="text" id="AddressOfProperty" name="PropertyRenovation.AddressOfProperty" class="form-control" value="@Model.PropertyRenovation?.AddressOfProperty" required />
                                                <label class="form-label" for="AddressOfProperty">Address of property intended to make renovation/repair</label>
                                                <div class="invalid-feedback">
                                                    Please Write a Address.
                                                </div>
                                            </div>
                                        </div>
                                        @Html.ValidationMessageFor(m => m.PropertyRenovation.AddressOfProperty, "", new { @class = "text-danger" })

                                    </div>


                                    <div class="col-md-2">
                                        <div class="input-group mb-2">
                                            <span class="input-group-text">👤</span>
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="text" id="PropertyHolderName" name="PropertyRenovation.PropertyHolderName" class="form-control" value="@Model.PropertyRenovation?.PropertyHolderName" required oninput="ValInDataLetter(this)" maxlength="15" />
                                                <label class="form-label" for="PropertyHolderName">Name of property holder(s)</label>
                                                <div class="invalid-feedback">
                                                    Please choose a username.
                                                </div>
                                            </div>
                                        </div>
                                        @Html.ValidationMessageFor(m => m.PropertyRenovation.PropertyHolderName, "", new { @class = "text-danger" })

                                    </div>


                                    <div class="col-md-3">
                                        <div class="input-group mb-2">
                                            <span class="input-group-text">💸</span>
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="text" id="EstimatedCost" name="PropertyRenovation.EstimatedCost" value="@Model.PropertyRenovation?.EstimatedCost" class="form-control" required oninput="formatIndianNumber(this)" maxlength="10" />
                                                <label class="form-label" for="EstimatedCost">Estimated cost of expenditure</label>
                                            </div>

                                        </div>
                                        @Html.ValidationMessageFor(m => m.PropertyRenovation.EstimatedCost, "", new { @class = "text-danger" })
                                    </div>





                                    <div class="col-md-4">
                                        <div class="mb-2">
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="file" id="TotalexpenditureFile" name="PropertyRenovation.TotalExpenditureFile" class="form-control custom-file-text" required data-text="Total expenditure (attach details)" accept=".pdf" />
                                                <p class="file-error-message text-danger" ></p>
                                                @Html.ValidationMessageFor(m => m.PropertyRenovation.TotalExpenditureFile, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>
                }

                else
                {
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button  fs-5 acc-btn h-50px" type="button" data-bs-toggle="collapse"  type="button" data-bs-target="#educationDetails" aria-expanded="false">
                                <span class="w-100 text-center text-decoration-underline"><strong>Any other reason requiring waiver</strong></span>
                            </button>
                        </h2>
                        <div id="educationDetails" class="accordion-collapse collapse" data-bs-parent="#formAccordion">
                            <div class="accordion-body">
                                <div class="row g-3">
                                    <div class="col-md-8">
                                        <div class="input-group mb-2">
                                            <span class="input-group-text">💬</span>
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="text" id="OtherReasons" name="SplWaiver.OtherReasons" class="form-control" value="@Model.SplWaiver?.OtherReasons" required oninput="ValInDataLetter(this)" />
                                                <label class="form-label" for="OtherReasons">Other Reason requiring Waiver</label>
                                                <div class="invalid-feedback">
                                                    Please type other reason.
                                                </div>
                                            </div>
                                        </div>
                                        @Html.ValidationMessageFor(m => m.SplWaiver.OtherReasons, "", new { @class = "text-danger" })

                                    </div>

                                    <div class="col-md-4">
                                        <div class="mb-2">
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="file" id="OtherReasonPdf" name="SplWaiver.OtherReasonPdf" class="form-control custom-file-text" required data-text="Other Reasons" accept=".pdf" />
                                                <p class="file-error-message text-danger" ></p>
                                                @Html.ValidationMessageFor(m => m.SplWaiver.OtherReasonPdf, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                    </div>


                                    <div class="col-md-8">
                                        <div class="mb-2">
                                            <div class="form-outline" data-mdb-input-init>
                                                <input type="file" id="TotalexpenditureFile" name="SplWaiver.TotalExpenditureFile" class="form-control custom-file-text" required data-text="Total expenditure (attach details)" accept=".pdf" />
                                                <p class="file-error-message text-danger" ></p>
                                                @Html.ValidationMessageFor(m => m.SplWaiver.TotalExpenditureFile, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>
                }
            }
            <div class="col-md-12">
                <div class="mt-4 text-center">
                    <button class="btn btn-primary" id="btn-save" type="submit">Next</button>

                </div>
            </div>
            <div class="col-md-12 mt-10px" id="msgerror">
            </div>

            <input type="hidden" id="Category" name="Category" value=@Category />
            <input type="hidden" id="Purpose" name="Purpose" value=@Purpose />
            <input type="hidden" id="COArmyNo" name="COArmyNo" value=@Model.COArmyNo />
            <input type="hidden" id="hba_Loan" name="ClaimCommonData.House_Building_Advance_Loan" value=@Model.ClaimCommonData?.House_Building_Advance_Loan />
            <input type="hidden" id="hra_Loan" name="ClaimCommonData.House_Repair_Advance_Loan" value=@Model.ClaimCommonData?.House_Repair_Advance_Loan />
            <input type="hidden" id="ca_Loan" name="ClaimCommonData.Conveyance_Advance_Loan" value=@Model.ClaimCommonData?.Conveyance_Advance_Loan />
            <input type="hidden" id="pca_Loan" name="ClaimCommonData.Computer_Advance_Loan" value=@Model.ClaimCommonData?.Computer_Advance_Loan />

            <div id="unitSearchDialog" class="uploadDialog d-none">
                <div class="dialog-box w-668">
                    <h3 class="text-center mb-3">Please Enter Army No to Your Formation Unit Cdr</h3>

                    <input type="text" id="unitSearchInput" class="form-control form-space fw-bold" placeholder="Enter Army Number..." autocomplete="off" maxlength="15" />
                    <span class="text-danger" id="unitSearchMessage"></span>
                    <div class="d-flex justify-content-end mt-3">
                        <button id="unitSearchCancelBtn" class="btn btn-secondary me-2 mt-10px" >Cancel</button>
                        <button id="unitSearchConfirmBtn" class="btn btn-primary mt-10px" disabled >Confirm</button>
                    </div>
                </div>
            </div>

        </form>
    </div>

    <!-- Submit Button -->

</div>

<script src="~/devjs/Validation.js"></script>
<script src="~/devjs/MaturityOnlineApplication.js"></script>
<script src="~/lib/inputmask/dist/inputmask.min.js"></script>
<script type="text/javascript" src="~/js/mdb/new-prism.js"></script>
<script type="text/javascript" src="~/js/mdb/mdbsnippet.min.js"></script>
<script type="text/javascript" src="~/js/mdb/mdb.min.js"></script>



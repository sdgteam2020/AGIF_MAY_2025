@using Microsoft.AspNetCore.Http;
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_LayoutMain.cshtml";
    var samlRole = Context.Session.GetString("SAMLRole");
}

<link href="~/css/Font/all.min.css" rel="stylesheet" />
 <link href="~/css/home-index.css" rel="stylesheet" />




<div class="container-fluid mt-2">
    <div class="row align-items-center">
        <!-- First Column: MD Profile -->
        <div class="col-12 col-md-3 text-start">
            <div class="panel panel-default border">
                <div class="panel-heading d-flex justify-content-center align-items-center">
                    <b class="m-0 text-white">MD</b>
                </div>
                <div class="panel-body text-center p-4">
                    <img src="~/Images/profile/RCP-2902.webp" alt="MDprofile" class="imgfluid" loading="lazy" decoding="async">
                    
                    <div class="mt-2">
                        <p class="fw-bold text-decoration-none">Maj AB Singh, SM, VSM(Retd)</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Second Column: Image Slider -->
        <div class="col-12 col-md-6 text-center">
            <div class="slider border">
                <div class="slides">
                    <div class="slide">
                        <img src="~/Images/pics/agif.webp" alt="Slide 1" class="slider-img" loading="lazy" decoding="async">
                    </div>
                    <div class="slide">
                        <img src="~/Images/pics/1a.webp" alt="Slide 2" class="slider-img" loading="lazy" decoding="async">
                    </div>
                    <div class="slide">
                        <img src="~/Images/pics/1aaa.webp" alt="Slide 3" class="slider-img" loading="lazy" decoding="async">
                    </div>
                    <div class="slide">
                        <img src="~/Images/pics/1aaaa.webp" alt="Slide 4" class="slider-img" loading="lazy" decoding="async">
                    </div>
                </div>
                <div class="dots">
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                </div>
            </div>
        </div>

        <!-- Third Column: What's New -->
        <div class="col-12 col-md-3 text-end">
            <div class="panel panel-default border">
                <div class="panel-heading d-flex justify-content-center align-items-center">
                    <b class="m-0 text-white">What's New</b>
                </div>
                <div class="panel-body p-0">
                    <div class="ticker-container h-100">
                        <ul id="ticker01" class="list-unstyled p-3 m-0">
                            <li class="mb-2">
                                <img src="~/Images/new.gif" alt="new" class="me-2" />
                                <a target="_blank" href="~/PdfViewer/SavingElement" class="text-decoration-none">Saving Element</a>
                            </li>
                            <li class="mb-2">
                                <img src="~/Images/new.gif" alt="new" class="me-2" />
                                <a target="_blank" href="~/PdfViewer/AgifInfoBrochure" class="text-decoration-none">AGIF Info Brochure 2024</a>
                            </li>
                            <li class="mb-2">
                                <img src="~/Images/new.gif" alt="new" class="me-2" />
                                <a target="_blank" href="~/PdfViewer/GuidelinesUnitCdr" class="text-decoration-none">Guidelines for Unit Cdr Registration</a>
                            </li>
                            <li class="mb-2">
                                <img src="~/Images/new.gif" alt="new" class="me-2" />
                                <a target="_blank" href="~/PdfViewer/UserManual" class="text-decoration-none">Guidelines for Applicant to apply online CA/PCA/HBA</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Second Row -->
    <div class="row align-items-center mt-3">
        <!-- FAQ Column -->
        <div class="col-12 col-md-3 text-center">
            <div class="panel panel-default border second-row" >
                <div class="panel-heading d-flex justify-content-center align-items-center">
                    <b class="m-0 text-white">FAQ</b>
                </div>
                <div class="panel-body p-3">
                    <div class="h-100 text-start">
                        <ul class="list-styled">
                            <li class="mb-2">
                                <a href="~/PdfViewer/AGIFLoanInwardPaymentUsingNEFT" target="_blank" class="text-decoration-none">Claims</a>
                            </li>
                            <li class="mb-2">
                                <a href="~/PdfViewer/FaqAdvancesGeneral" target="_blank" class="text-decoration-none">Advances General</a>
                            </li>
                            <li class="mb-2">
                                <a href="~/PdfViewer/FaqHBA" target="_blank" class="text-decoration-none">House Building Advance (HBA)</a>
                            </li>
                            <li class="mb-2">
                                <a href="~/PdfViewer/FaqCA" target="_blank" class="text-decoration-none">Conveyance Advance (CA)</a>
                            </li>
                            <li class="mb-2">
                                <a href="~/PdfViewer/FaqPCA" target="_blank" class="text-decoration-none">Personal Computer Advance (PCA)</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- About Us Column -->
        <div class="col-12 col-md-6 text-center">
            <div class="panel panel-default border second-row" >
                <div class="panel-heading d-flex justify-content-center align-items-center" >
                    <b class="m-0 text-white">About Us</b>
                </div>
                <div class="panel-body text-justify p-3">
                    <div class="overflow-auto h-100">
                        The Army Group Insurance Scheme is a group insurance cum savings scheme. It provides insurance and allied benefits to all ranks of the Indian Army. It is a society registered with the Registrar of Societies under the Registration of Societies Act (Act XX1) of 1860. It is operated entirely on the basis of monthly contributions by all ranks of the Army and is a self supporting and self sustaining organisation. AGIF is dynamic in its outlook and keeps revising its schemes to meet the aspirations and needs of its members. The entire cost of running the scheme i.e pay and allowances and maintenance charges of the organization are borne by the Fund.
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Links Column -->
        <div class="col-12 col-md-3 text-center">
            <div class="panel panel-default border second-row">
                <div class="panel-heading d-flex justify-content-center align-items-center" >
                    <b class="m-0 text-white">Quick Links</b>
                </div>
                <div class="panel-body p-3">
                    <div class="d-flex flex-column h-100 justify-content-start">
                        <ul class="p-0 list-unstyled">
                            <li class="pb-2">
                                <a target="_blank" href="https://portal.army.mil" class="btn btn-info w-100">Army Portal</a>
                            </li>
                            <li class="pb-2">
                                <a target="_blank" href="https://msweb.army.mil" class="btn btn-info w-100">MS Web</a>
                            </li>
                            <li class="pb-2">
                                <a target="_blank" href="https://agweb.army.mil" class="btn btn-info w-100">AG Web</a>
                            </li>
                            <li class="pb-2">
                                <div class="btn btn-info w-100 d-flex align-items-center justify-content-center">
                                    <i class="fa fa-envelope-o me-2"></i>adagif@gmail.com
                                </div>
                            </li>
                            @if (!string.IsNullOrEmpty(samlRole) && samlRole == "unitCdr")
                            {
                                <li class="pb-2">
                                    <a href="~/CORole/UserApplicationList" class="btn btn-info w-100">
                                        <i class="fa fa-envelope-o me-2"></i>Unit Cdr Dashboard
                                    </a>
                                </li>
                            }
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="bg-gray-100 h-screen p-4 relative">
<div onclick="toggleModal();" id="chatToggleButton"
     class="fixed bottom-6 right-6 z-50 cursor-pointer bg-white rounded-full shadow-lg p-3">
    <!-- <img id="chatToggleImg" src="static/images/chatbot-icon.jpg" alt="Chat" class="w-10 h-10"> -->
    <button id="chat-toggle-btn" class="chat-toggle-btn">
        <svg xmlns="http://www.w3.org/2000/svg" height="26" width="32" viewBox="0 0 640 512">
            <path fill="#ffffff"
                  d="M320 0c17.7 0 32 14.3 32 32l0 64 120 0c39.8 0 72 32.2 72 72l0 272c0 39.8-32.2 72-72 72l-304 0c-39.8 0-72-32.2-72-72l0-272c0-39.8 32.2-72 72-72l120 0 0-64c0-17.7 14.3-32 32-32zM208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0zM264 256a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80zM48 224l16 0 0 192-16 0c-26.5 0-48-21.5-48-48l0-96c0-26.5 21.5-48 48-48zm544 0c26.5 0 48 21.5 48 48l0 96c0 26.5-21.5 48-48 48l-16 0 0-192 16 0z" />
        </svg>
    </button>
</div>

<!-- Chatbot Modal -->
<div id="modal"
     class="chatModal fixed top-2 right-[-40vw] w-[400px] max-w-full h-[50vh] bg-white shadow-2xl rounded-lg opacity-1 z-50 flex flex-col overflow-hidden">
    <!-- Title -->
    <div class="bg-blue-600 text-white text-center py-3 text-xl font-semibold">
        <!-- 📘 ASDC Assistant -->
        <div class="popup-header">
            <img src="~/images/Icon/favicon.png" alt="" style="height: 3rem;">
            <h3 style="color:white; text-decoration: none;  font-weight: 800;">AGIF Assistant</h3>
        </div>
    </div>

    <!-- Loading Indicator -->
    <div id="loading"
         class="absolute top-5 right-5 bg-white px-3 py-1 rounded shadow text-blue-600 font-semibold hidden">
        ⏳ Generating response...
    </div>

    <!-- Chat Area -->
    <div id="chatbox" class="flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50"></div>

    <!-- Input -->
    <div class="flex items-center border-t px-4 py-3 gap-2">
        <input id="query" type="text" placeholder="Type your question..."
               class="flex-1 px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"
               onkeydown="if(event.key === 'Enter') sendQuery()">
        <button onclick="sendQuery()"
                class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition">
            Send
        </button>
    </div>
</div>
</div>

@section Scripts {
    <script src="~/devjs/home-index.js"></script>
    <script src="~/lib/tailwind.js"></script>
}
